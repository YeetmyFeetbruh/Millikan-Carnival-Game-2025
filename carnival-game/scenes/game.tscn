[gd_scene load_steps=34 format=3 uid="uid://duuwtb34yyfrf"]

[ext_resource type="Script" uid="uid://dgonqv37nuuvg" path="res://scripts/OMEGASCRIPT.gd" id="1_iywne"]
[ext_resource type="Texture2D" uid="uid://dlg47conda0ky" path="res://sprites/table.jpg" id="1_yqjtg"]
[ext_resource type="Texture2D" uid="uid://clnmr7vtrghkv" path="res://sprites/pumpkin2.png" id="2_lnu2h"]
[ext_resource type="Texture2D" uid="uid://taw3qtu8e5kx" path="res://sprites/knifehandle.svg" id="3_lbhrr"]
[ext_resource type="Texture2D" uid="uid://oblfe0vm5eu4" path="res://sprites/knife.png" id="4_iywne"]
[ext_resource type="Curve2D" uid="uid://dpov4tjgwm8rc" path="res://designs/maze.tres" id="5_264po"]
[ext_resource type="Curve2D" uid="uid://1q1yrcug11w1" path="res://designs/umbrella.tres" id="5_ssvqc"]
[ext_resource type="Curve2D" uid="uid://xqs2r4hj1l4s" path="res://designs/circle.tres" id="6_ir15t"]
[ext_resource type="Script" uid="uid://cjejt3bg1yokt" path="res://scripts/knife.gd" id="6_kvpfn"]
[ext_resource type="Texture2D" uid="uid://bno402ia2mwwh" path="res://sprites/picasso.jpg" id="6_p57ef"]
[ext_resource type="Curve2D" uid="uid://c3wcruf638c4" path="res://designs/triangle.tres" id="7_ca42v"]
[ext_resource type="Texture2D" uid="uid://y5geru0ki04l" path="res://sprites/redx.png" id="7_u5sy4"]
[ext_resource type="AudioStream" uid="uid://d0alvxlanp22a" path="res://sfx/wrong-answer-buzzer.mp3" id="8_gee14"]
[ext_resource type="Script" uid="uid://docalrqxd88qr" path="res://scripts/path.gd" id="9_0tnpc"]
[ext_resource type="Texture2D" uid="uid://21lsh7k72077" path="res://sprites/dash.svg" id="10_vtaks"]
[ext_resource type="AudioStream" uid="uid://bcvhu6gjt07eb" path="res://sfx/correct.mp3" id="11_kvuet"]
[ext_resource type="Texture2D" uid="uid://csrx2o54fmcsb" path="res://sprites/checkmark.png" id="13_trtic"]
[ext_resource type="Shader" uid="uid://upw7cdmdcj6x" path="res://misc/ChromaKeyShader.gdshader" id="14_trtic"]
[ext_resource type="AudioStream" uid="uid://ceo1fmmm0bclp" path="res://sfx/halloween_ambient.ogg" id="17_37s47"]
[ext_resource type="Texture2D" uid="uid://c15m6cb1v3fhs" path="res://sprites/umbrellaere.jpg" id="17_rysoc"]
[ext_resource type="AudioStream" uid="uid://dbxtjd5tlq853" path="res://sfx/children-yaysound-effect.mp3" id="18_1kice"]
[ext_resource type="AudioStream" uid="uid://mil8gie1ptmx" path="res://sfx/halloween-spooky-music-413648.mp3" id="19_5newe"]

[sub_resource type="LabelSettings" id="LabelSettings_u5sy4"]
font_size = 71
font_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_kvuet"]
font_size = 51
font_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_trtic"]
font_size = 96
font_color = Color(0, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ir15t"]
resource_name = "ChromaKeyShader.gdshader"
shader = ExtResource("14_trtic")
shader_parameter/chroma_key_color = Color(0.043137256, 1, 0, 1)
shader_parameter/pickup_range = 0.1
shader_parameter/fade_amount = 1.0

[sub_resource type="VideoStreamTheora" id="VideoStreamTheora_kvuet"]
file = "misc/foxy.ogv"

[sub_resource type="LabelSettings" id="LabelSettings_5newe"]
font_size = 111
outline_size = 55
outline_color = Color(0, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_5newe"]
bg_color = Color(1, 1, 1, 1)
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_37s47"]
bg_color = Color(0.2592937, 0.2592937, 0.2592937, 1)
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bt5mj"]
bg_color = Color(0.5489626, 0.5489626, 0.54896253, 1)
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_5newe"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_37s47"]

[node name="Game" type="Node2D"]
script = ExtResource("1_iywne")

[node name="background" type="Node2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="background"]
offset_left = -10.0
offset_top = -10.0
offset_right = 1928.9402
offset_bottom = 439.0

[node name="Table" type="Sprite2D" parent="background"]
position = Vector2(1000, 1250)
scale = Vector2(0.63851166, 0.5475328)
texture = ExtResource("1_yqjtg")

[node name="Pumpkin2" type="Sprite2D" parent="background"]
position = Vector2(1000, 500)
scale = Vector2(2, 2)
texture = ExtResource("2_lnu2h")

[node name="Picasso" type="Sprite2D" parent="background"]
visible = false
position = Vector2(264.5, 347)
scale = Vector2(0.37604168, 0.23541668)
texture = ExtResource("6_p57ef")

[node name="Label" type="Label" parent="background"]
offset_left = 130.0
offset_top = 74.0
offset_right = 361.0
offset_bottom = 171.0
text = "CARVE PUMPKIN"
label_settings = SubResource("LabelSettings_u5sy4")

[node name="Path" type="Path2D" parent="."]
script = ExtResource("9_0tnpc")
designs = Array[Curve2D]([ExtResource("7_ca42v"), ExtResource("6_ir15t"), ExtResource("5_ssvqc"), ExtResource("5_264po")])

[node name="DashedLine" type="Line2D" parent="."]
texture_repeat = 2
closed = true
width = 40.0
default_color = Color(1, 0.72249997, 0.55, 1)
texture = ExtResource("10_vtaks")
texture_mode = 1
joint_mode = 2

[node name="outline" type="Line2D" parent="."]

[node name="Redx" type="Sprite2D" parent="."]
visible = false
position = Vector2(964, 515)
scale = Vector2(0.28978625, 0.28978625)
texture = ExtResource("7_u5sy4")

[node name="Greenv" type="Sprite2D" parent="."]
visible = false
position = Vector2(1033, 511)
scale = Vector2(1.5696203, 1.5696201)
texture = ExtResource("13_trtic")

[node name="sfx" type="Node" parent="."]

[node name="fail" type="AudioStreamPlayer2D" parent="sfx"]
stream = ExtResource("8_gee14")

[node name="win" type="AudioStreamPlayer2D" parent="sfx"]
stream = ExtResource("11_kvuet")

[node name="cheer" type="AudioStreamPlayer2D" parent="sfx"]
stream = ExtResource("18_1kice")

[node name="music" type="AudioStreamPlayer2D" parent="sfx"]
stream = ExtResource("19_5newe")
parameters/looping = true

[node name="ambient" type="AudioStreamPlayer2D" parent="sfx"]
stream = ExtResource("17_37s47")
parameters/looping = true

[node name="Umbrellaere" type="Sprite2D" parent="."]
visible = false
modulate = Color(1, 1, 1, 0.1764706)
position = Vector2(1008, 567.00006)
scale = Vector2(0.9592188, 0.9592188)
texture = ExtResource("17_rysoc")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Accuracy" type="Label" parent="Control"]
layout_mode = 0
offset_left = 1596.0
offset_top = 26.0
offset_right = 1827.0
offset_bottom = 96.0
text = "Accuracy"
label_settings = SubResource("LabelSettings_kvuet")

[node name="numba" type="Label" parent="Control/Accuracy"]
layout_mode = 0
offset_left = -12.0
offset_top = 54.0
offset_right = 262.0
offset_bottom = 200.0
text = "0.00%"
label_settings = SubResource("LabelSettings_trtic")

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="Control"]
visible = false
material = SubResource("ShaderMaterial_ir15t")
layout_mode = 0
offset_right = 1280.0
offset_bottom = 720.0
scale = Vector2(1.5, 1.5)
stream = SubResource("VideoStreamTheora_kvuet")
volume_db = -10.0
expand = true

[node name="Reward" type="Label" parent="Control"]
visible = false
layout_mode = 0
offset_top = 483.0
offset_right = 1920.0
offset_bottom = 654.0
text = "YOU WIN: PLACEHOLDER"
label_settings = SubResource("LabelSettings_5newe")
horizontal_alignment = 1

[node name="GameOver" type="Control" parent="Control"]
visible = false
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="Control/GameOver"]
layout_mode = 0
offset_right = 1920.0
offset_bottom = 750.0
text = "PLAY AGAIN?
1 TICKET"
label_settings = SubResource("LabelSettings_5newe")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Button" type="Button" parent="Control/GameOver"]
layout_mode = 0
offset_left = 830.0
offset_top = 578.0
offset_right = 1134.0
offset_bottom = 670.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 51
theme_override_styles/normal = SubResource("StyleBoxFlat_5newe")
theme_override_styles/pressed = SubResource("StyleBoxFlat_37s47")
theme_override_styles/hover = SubResource("StyleBoxFlat_bt5mj")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_5newe")
theme_override_styles/focus = SubResource("StyleBoxEmpty_37s47")
text = "START"

[node name="countdown" type="Label" parent="Control"]
layout_mode = 0
offset_left = 75.0
offset_right = 1929.0
offset_bottom = 152.0
text = "15s"
label_settings = SubResource("LabelSettings_5newe")
horizontal_alignment = 1

[node name="Timer" type="Timer" parent="Control/countdown"]

[node name="knife" type="Node2D" parent="."]
script = ExtResource("6_kvpfn")
knife_dist = 5
prizes = Array[String](["Nothing", "2 Dum Dums", "1 Soda", "1 Candy Bag", "Meta Quest 2"])
times = Array[int]([12, 15, 20, 30])

[node name="Knifehandle" type="Sprite2D" parent="knife"]
visible = false
position = Vector2(0, 3)
scale = Vector2(0.27, 0.27)
texture = ExtResource("3_lbhrr")
offset = Vector2(0, 43.12)

[node name="Knife" type="Sprite2D" parent="knife"]
position = Vector2(-20, -14)
scale = Vector2(0.27, 0.27)
texture = ExtResource("4_iywne")
offset = Vector2(250, 200)

[node name="knifetimer" type="Timer" parent="knife"]
wait_time = 0.5
autostart = true

[connection signal="pressed" from="Control/GameOver/Button" to="." method="_on_button_pressed"]
[connection signal="timeout" from="Control/countdown/Timer" to="knife" method="_on_timer_timeout"]
